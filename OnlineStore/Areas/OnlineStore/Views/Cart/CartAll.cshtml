@using OnlineStore.Data;
@using OnlineStore.DBServices;
@using Resources = OnlineStore.Common.Properties;

@model IEnumerable<OnlineStore.Data.Product>

@{
    ViewBag.Title = Resources.Labels.CartAll;
    decimal totalPrice = 0;
}

<h2>@Resources.Labels.CartAll</h2>

<style>

    th
    {
        font-weight: bold;
        font-size: 1vw;
    }

    td {
        font-family: 'Courier New';
        font-size: 1.5vw;
    }

    #totalPrice {
        margin: 5px;
        font-family: 'Courier New';
        font-size: 1.5vw;
        font-weight: bold;
    }

    #placeOrder
    {
        margin-top: 15px;
    }

    #container {
        background-color: #ecf0f1;
    }

</style>

<table id="container" class="table">
    <tr>
        <th>
            @*@Html.DisplayNameFor(model => model.Name)*@
            @Html.DisplayName(Resources.Labels.Name)
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.Quantity)*@
            @Html.DisplayName(Resources.Labels.Quantity)
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.Price)*@
            @*@Html.Display(Resources.Labels.Price)*@
            @Html.DisplayName(Resources.Labels.Price)
        </th>
        <th></th>
    </tr>

    @if (Model != null)
    {
        foreach (var item in Model)
        {
            totalPrice += item.Price * item.Quantity;
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quantity)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Price) zł
                </td>
                <td>
                    @Html.ActionLink("Usuń", "Delete", new { id = item.Id })
                </td>
            </tr>
        }
    }

</table>

<div id="totalPrice">
    <p>@Html.DisplayName(Resources.Labels.TotalPrice)</p>
    <p>@totalPrice zł</p>
</div>

<div id="totalPrice">
    <input type="button" id="placeOrder" value="Złóż zamówienie" />
</div>
